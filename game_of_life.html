<!-- Author: Richard Myatt
     Date: 20 June 2018
     Revised: 3 July 2018

     An exercise in data visualization and a second use of materialize.
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <!--Import Google Icon Font-->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!--Import materialize.css-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/css/materialize.min.css">
  <link rel="stylesheet" href="css/game_of_life.css">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Game of Life</title>
</head>
<body>

  <!-- Vue.js application -->
  <div id="app">
    <!-- give our app a nice header -->
    <title-bar  @clearboard="clear()"
                @rand="randomise()"
                @osc="addPatternToGrid(pattern[0])"
                @gliders="addPatternToGrid(pattern[1])"
                @ship="addPatternToGrid(pattern[2])"
                ></title-bar>


    <button @click="printPattern()" v-if="show">Print Pattern</button>

      <div class="grid-container z-depth-2">
        <gol-cell v-for="(num, key, index) in 320"
                  :id="'cell' + key"
                  @select="selectCell"
                  :class="{blue: grid.arr[key]}"
        ></gol-cell>
      </div>

      <div class="display-container z-depth-2">
        <a class="btn-floating btn-large waves-effect waves-light red"
           @click="startStop()"
           :class="{green:!running}">
            <i class="material-icons" v-if="!running">play_arrow</i>
            <i class="material-icons" v-else>stop</i>
          </a>

          <div class="counter">{{ count }}</div>
      </div>



    <pre>
      {{ $data }}
    </pre>

  </div><!-- Vue.js app -->


  <!-- Materialize Modal -->
  <div id="modal1" class="modal">
    <div class="modal-content">
      <h4>About Recipe Box</h4>
      <p>Recipe Box is one of the challenges set by FreeCodeCamp in connection with the data visualization series.  The application allows you to add, delete, and edit recipes which are stored on the browsers localStorage.</p>
      <p>The application is written using Materialize and Vue.js.</p>
      <pre>
Author:  Richard Myatt
Date:    20 June 2018
Revised: 3 July 2018
Version: 1.1.1
      </pre>
    </div>
    <div class="modal-footer">
      <a href="#" class="modal-close waves-effect waves-green">Close</a>
    </div>
  </div>



  <!--                        TEMPLATES                          -->

  <!-- Title bar shown on every page -->
  <template id="logo">
    <div>
      <!-- Dropdown Structure -->
      <ul id="dropdown1" class="dropdown-content">
        <li><a href="#!" @click="$emit('clearboard')">Clear</a></li>
        <li class="divider"></li>
        <li><a href="#!" @click="$emit('rand')">Randomise</a></li>
        <li><a href="#!" @click="$emit('osc')">Oscillators</a></li>
        <li><a href="#!" @click="$emit('gliders')">Two Gliders</a></li>
        <li><a href="#!" @click="$emit('ship')">Space Ship</a></li>
      </ul>

      <nav>
        <div class="nav-wrapper blue">
          <a href="#" class="brand-logo">Game of Life</a>
          <a href="#" data-target="mobile-demo" class="sidenav-trigger"><i class="material-icons">menu</i></a>
          <ul id="nav-mobile" class="right hide-on-med-and-down">
          <li><a class="dropdown-trigger" href="#!" data-target="dropdown1">Patterns<i class="material-icons right">arrow_drop_down</i></a></li>
          <li><a href="#modal1" class="modal-trigger">About</a></li>
        </ul>
        </div>
      </nav>

      <ul class="sidenav" id="mobile-demo">
        <li><a href="#" class="sidenav-close right close" >X</a></li>
        <li><a href="#">Clear</a></li>
        <li><a href="#">Edit</a></li>
        <li><a href="#modal1" class="modal-trigger">About</a></li>
      </ul>

    </div>
  </template>


  // Grid cell template
  <template id="cell">
    <div class="cell"
         @click="process">            <!-- "$emit('select', num - 1)" -->
    </div>
  </template>


  <!--JavaScript at end of body for optimized loading-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/js/materialize.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script src="js/game_of_life_logic.js"></script>
  <script src="js/game_of_life_data.js"></script>
  <script src="js/patterns.js"></script>
  <script src="js/game_of_life.js"></script>

</body>
</html>
